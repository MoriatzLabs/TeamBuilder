import { Role, DamageType } from '../types/analytics.types';

// Champion metadata for analytics
export interface ChampionMeta {
  id: string;
  name: string;
  roles: Role[];
  damageType: DamageType;
  tags: string[];
  counters: string[]; // Champion IDs this champion counters
  counteredBy: string[]; // Champion IDs that counter this champion
  synergies: string[]; // Champion IDs that synergize well
  threatLevel: number; // 1-10 meta threat level
  engageRating: number; // 0-10
  peelRating: number; // 0-10
  waveclearRating: number; // 0-10
  earlyGame: number; // 1-10 power level
  midGame: number;
  lateGame: number;
}

// Core champion matchup data - focused on common pro picks
export const CHAMPION_META: Record<string, ChampionMeta> = {
  // TOP LANE
  ksante: {
    id: 'ksante',
    name: "K'Sante",
    roles: ['TOP'],
    damageType: 'ad',
    tags: ['tank', 'fighter', 'engage'],
    counters: ['fiora', 'gwen', 'vayne'],
    counteredBy: ['fiora', 'vayne', 'gwen'],
    synergies: ['orianna', 'lulu', 'jinx'],
    threatLevel: 9,
    engageRating: 8,
    peelRating: 6,
    waveclearRating: 6,
    earlyGame: 6,
    midGame: 8,
    lateGame: 9,
  },
  jax: {
    id: 'jax',
    name: 'Jax',
    roles: ['TOP', 'JGL'],
    damageType: 'mixed',
    tags: ['fighter', 'splitpush', 'scaling'],
    counters: ['malphite', 'teemo', 'kennen'],
    counteredBy: ['malphite', 'teemo', 'akali'],
    synergies: ['lulu', 'orianna', 'yuumi'],
    threatLevel: 8,
    engageRating: 6,
    peelRating: 3,
    waveclearRating: 5,
    earlyGame: 4,
    midGame: 7,
    lateGame: 10,
  },
  gnar: {
    id: 'gnar',
    name: 'Gnar',
    roles: ['TOP'],
    damageType: 'mixed',
    tags: ['tank', 'engage', 'poke'],
    counters: ['irelia', 'camille', 'riven'],
    counteredBy: ['irelia', 'camille', 'darius'],
    synergies: ['yasuo', 'orianna', 'missfortune'],
    threatLevel: 7,
    engageRating: 9,
    peelRating: 5,
    waveclearRating: 7,
    earlyGame: 7,
    midGame: 8,
    lateGame: 7,
  },
  renekton: {
    id: 'renekton',
    name: 'Renekton',
    roles: ['TOP'],
    damageType: 'ad',
    tags: ['fighter', 'early', 'lane-bully'],
    counters: ['ornn', 'malphite', 'vayne'],
    counteredBy: ['vayne', 'quinn', 'kennen'],
    synergies: ['nidalee', 'elise', 'pantheon'],
    threatLevel: 6,
    engageRating: 7,
    peelRating: 3,
    waveclearRating: 8,
    earlyGame: 9,
    midGame: 6,
    lateGame: 4,
  },
  aatrox: {
    id: 'aatrox',
    name: 'Aatrox',
    roles: ['TOP'],
    damageType: 'ad',
    tags: ['fighter', 'sustain', 'teamfight'],
    counters: ['fiora', 'vayne', 'cassiopeia'],
    counteredBy: ['fiora', 'irelia', 'vayne'],
    synergies: ['yuumi', 'lulu', 'zilean'],
    threatLevel: 8,
    engageRating: 7,
    peelRating: 4,
    waveclearRating: 8,
    earlyGame: 6,
    midGame: 9,
    lateGame: 7,
  },
  fiora: {
    id: 'fiora',
    name: 'Fiora',
    roles: ['TOP'],
    damageType: 'true',
    tags: ['fighter', 'splitpush', 'duelist'],
    counters: ['malphite', 'kennen', 'quinn'],
    counteredBy: ['malphite', 'kennen', 'quinn'],
    synergies: ['shen', 'galio', 'twisted-fate'],
    threatLevel: 8,
    engageRating: 3,
    peelRating: 2,
    waveclearRating: 6,
    earlyGame: 5,
    midGame: 8,
    lateGame: 10,
  },

  // JUNGLE
  leesin: {
    id: 'leesin',
    name: 'Lee Sin',
    roles: ['JGL'],
    damageType: 'ad',
    tags: ['assassin', 'early', 'playmaker'],
    counters: ['rammus', 'amumu', 'sejuani'],
    counteredBy: ['rammus', 'warwick', 'udyr'],
    synergies: ['yasuo', 'orianna', 'braum'],
    threatLevel: 8,
    engageRating: 9,
    peelRating: 6,
    waveclearRating: 6,
    earlyGame: 9,
    midGame: 7,
    lateGame: 4,
  },
  reksai: {
    id: 'reksai',
    name: "Rek'Sai",
    roles: ['JGL'],
    damageType: 'ad',
    tags: ['fighter', 'early', 'ganker'],
    counters: ['elise', 'nidalee', 'graves'],
    counteredBy: ['olaf', 'warwick', 'udyr'],
    synergies: ['galio', 'twisted-fate', 'shen'],
    threatLevel: 7,
    engageRating: 8,
    peelRating: 3,
    waveclearRating: 7,
    earlyGame: 9,
    midGame: 7,
    lateGame: 5,
  },
  jarvaniv: {
    id: 'jarvaniv',
    name: 'Jarvan IV',
    roles: ['JGL'],
    damageType: 'ad',
    tags: ['tank', 'engage', 'teamfight'],
    counters: ['olaf', 'udyr', 'warwick'],
    counteredBy: ['olaf', 'morgana', 'fizz'],
    synergies: ['orianna', 'syndra', 'rumble'],
    threatLevel: 7,
    engageRating: 10,
    peelRating: 5,
    waveclearRating: 6,
    earlyGame: 7,
    midGame: 8,
    lateGame: 6,
  },
  viego: {
    id: 'viego',
    name: 'Viego',
    roles: ['JGL'],
    damageType: 'ad',
    tags: ['fighter', 'reset', 'skirmish'],
    counters: ['rammus', 'warwick', 'lee-sin'],
    counteredBy: ['rammus', 'sejuani', 'elise'],
    synergies: ['orianna', 'lulu', 'thresh'],
    threatLevel: 8,
    engageRating: 6,
    peelRating: 2,
    waveclearRating: 7,
    earlyGame: 5,
    midGame: 8,
    lateGame: 9,
  },
  elise: {
    id: 'elise',
    name: 'Elise',
    roles: ['JGL'],
    damageType: 'ap',
    tags: ['assassin', 'early', 'tower-dive'],
    counters: ['graves', 'kindred', 'kha-zix'],
    counteredBy: ['olaf', 'udyr', 'warwick'],
    synergies: ['renekton', 'pantheon', 'galio'],
    threatLevel: 7,
    engageRating: 7,
    peelRating: 4,
    waveclearRating: 5,
    earlyGame: 10,
    midGame: 6,
    lateGame: 3,
  },

  // MID LANE
  syndra: {
    id: 'syndra',
    name: 'Syndra',
    roles: ['MID'],
    damageType: 'ap',
    tags: ['mage', 'burst', 'control'],
    counters: ['fizz', 'zed', 'yasuo'],
    counteredBy: ['fizz', 'leblanc', 'kassadin'],
    synergies: ['jarvan-iv', 'amumu', 'shen'],
    threatLevel: 8,
    engageRating: 3,
    peelRating: 7,
    waveclearRating: 8,
    earlyGame: 6,
    midGame: 9,
    lateGame: 8,
  },
  azir: {
    id: 'azir',
    name: 'Azir',
    roles: ['MID'],
    damageType: 'ap',
    tags: ['mage', 'scaling', 'zone-control'],
    counters: ['xerath', 'velkoz', 'lux'],
    counteredBy: ['assassins', 'kassadin', 'fizz'],
    synergies: ['jarvan-iv', 'sett', 'rakan'],
    threatLevel: 9,
    engageRating: 8,
    peelRating: 6,
    waveclearRating: 10,
    earlyGame: 3,
    midGame: 6,
    lateGame: 10,
  },
  orianna: {
    id: 'orianna',
    name: 'Orianna',
    roles: ['MID'],
    damageType: 'ap',
    tags: ['mage', 'teamfight', 'utility'],
    counters: ['fizz', 'zed', 'kassadin'],
    counteredBy: ['fizz', 'leblanc', 'zed'],
    synergies: ['jarvan-iv', 'kennen', 'malphite'],
    threatLevel: 8,
    engageRating: 7,
    peelRating: 8,
    waveclearRating: 9,
    earlyGame: 5,
    midGame: 8,
    lateGame: 9,
  },
  ahri: {
    id: 'ahri',
    name: 'Ahri',
    roles: ['MID'],
    damageType: 'ap',
    tags: ['mage', 'assassin', 'pick'],
    counters: ['fizz', 'kassadin', 'yasuo'],
    counteredBy: ['zed', 'yasuo', 'kassadin'],
    synergies: ['lee-sin', 'elise', 'nautilus'],
    threatLevel: 7,
    engageRating: 6,
    peelRating: 6,
    waveclearRating: 7,
    earlyGame: 6,
    midGame: 8,
    lateGame: 7,
  },
  leblanc: {
    id: 'leblanc',
    name: 'LeBlanc',
    roles: ['MID'],
    damageType: 'ap',
    tags: ['assassin', 'burst', 'pick'],
    counters: ['galio', 'malzahar', 'lissandra'],
    counteredBy: ['galio', 'kassadin', 'malzahar'],
    synergies: ['elise', 'rek-sai', 'thresh'],
    threatLevel: 8,
    engageRating: 5,
    peelRating: 2,
    waveclearRating: 5,
    earlyGame: 8,
    midGame: 9,
    lateGame: 6,
  },

  // ADC
  jinx: {
    id: 'jinx',
    name: 'Jinx',
    roles: ['ADC'],
    damageType: 'ad',
    tags: ['marksman', 'hypercarry', 'teamfight'],
    counters: ['draven', 'lucian', 'caitlyn'],
    counteredBy: ['draven', 'lucian', 'assassins'],
    synergies: ['thresh', 'lulu', 'nautilus'],
    threatLevel: 9,
    engageRating: 2,
    peelRating: 1,
    waveclearRating: 8,
    earlyGame: 4,
    midGame: 7,
    lateGame: 10,
  },
  kaisa: {
    id: 'kaisa',
    name: "Kai'Sa",
    roles: ['ADC'],
    damageType: 'mixed',
    tags: ['marksman', 'assassin', 'burst'],
    counters: ['draven', 'lucian', 'caitlyn'],
    counteredBy: ['draven', 'caitlyn', 'ashe'],
    synergies: ['nautilus', 'thresh', 'leona'],
    threatLevel: 8,
    engageRating: 5,
    peelRating: 2,
    waveclearRating: 7,
    earlyGame: 4,
    midGame: 8,
    lateGame: 9,
  },
  aphelios: {
    id: 'aphelios',
    name: 'Aphelios',
    roles: ['ADC'],
    damageType: 'ad',
    tags: ['marksman', 'hypercarry', 'complex'],
    counters: ['draven', 'caitlyn', 'lucian'],
    counteredBy: ['draven', 'assassins', 'caitlyn'],
    synergies: ['thresh', 'lulu', 'renata'],
    threatLevel: 9,
    engageRating: 3,
    peelRating: 3,
    waveclearRating: 8,
    earlyGame: 3,
    midGame: 7,
    lateGame: 10,
  },
  varus: {
    id: 'varus',
    name: 'Varus',
    roles: ['ADC'],
    damageType: 'mixed',
    tags: ['marksman', 'poke', 'engage'],
    counters: ['sivir', 'ezreal', 'xayah'],
    counteredBy: ['sivir', 'samira', 'draven'],
    synergies: ['braum', 'tahm-kench', 'ashe'],
    threatLevel: 7,
    engageRating: 7,
    peelRating: 2,
    waveclearRating: 7,
    earlyGame: 7,
    midGame: 8,
    lateGame: 7,
  },
  zeri: {
    id: 'zeri',
    name: 'Zeri',
    roles: ['ADC'],
    damageType: 'ad',
    tags: ['marksman', 'mobility', 'scaling'],
    counters: ['caitlyn', 'draven', 'lucian'],
    counteredBy: ['caitlyn', 'draven', 'point-click-cc'],
    synergies: ['lulu', 'yuumi', 'thresh'],
    threatLevel: 8,
    engageRating: 3,
    peelRating: 1,
    waveclearRating: 7,
    earlyGame: 4,
    midGame: 7,
    lateGame: 10,
  },

  // SUPPORT
  nautilus: {
    id: 'nautilus',
    name: 'Nautilus',
    roles: ['SUP'],
    damageType: 'ap',
    tags: ['tank', 'engage', 'lockdown'],
    counters: ['morgana', 'sivir', 'ezreal'],
    counteredBy: ['morgana', 'tahm-kench', 'alistar'],
    synergies: ['kaisa', 'aphelios', 'varus'],
    threatLevel: 8,
    engageRating: 10,
    peelRating: 7,
    waveclearRating: 4,
    earlyGame: 8,
    midGame: 8,
    lateGame: 7,
  },
  thresh: {
    id: 'thresh',
    name: 'Thresh',
    roles: ['SUP'],
    damageType: 'ap',
    tags: ['tank', 'playmaker', 'utility'],
    counters: ['morgana', 'lulu', 'janna'],
    counteredBy: ['morgana', 'sivir', 'ezreal'],
    synergies: ['kalista', 'aphelios', 'jinx'],
    threatLevel: 8,
    engageRating: 8,
    peelRating: 9,
    waveclearRating: 3,
    earlyGame: 7,
    midGame: 8,
    lateGame: 8,
  },
  lulu: {
    id: 'lulu',
    name: 'Lulu',
    roles: ['SUP'],
    damageType: 'ap',
    tags: ['enchanter', 'peel', 'hypercarry-enabler'],
    counters: ['zyra', 'brand', 'xerath'],
    counteredBy: ['blitzcrank', 'nautilus', 'leona'],
    synergies: ['jinx', 'kog-maw', 'vayne'],
    threatLevel: 8,
    engageRating: 2,
    peelRating: 10,
    waveclearRating: 3,
    earlyGame: 6,
    midGame: 8,
    lateGame: 9,
  },
  rakan: {
    id: 'rakan',
    name: 'Rakan',
    roles: ['SUP'],
    damageType: 'ap',
    tags: ['enchanter', 'engage', 'playmaker'],
    counters: ['alistar', 'braum', 'tahm-kench'],
    counteredBy: ['alistar', 'morgana', 'leona'],
    synergies: ['xayah', 'kaisa', 'samira'],
    threatLevel: 8,
    engageRating: 10,
    peelRating: 7,
    waveclearRating: 2,
    earlyGame: 6,
    midGame: 9,
    lateGame: 8,
  },
  renata: {
    id: 'renata',
    name: 'Renata Glasc',
    roles: ['SUP'],
    damageType: 'ap',
    tags: ['enchanter', 'utility', 'teamfight'],
    counters: ['morgana', 'sivir', 'cleanse'],
    counteredBy: ['blitzcrank', 'leona', 'nautilus'],
    synergies: ['aphelios', 'jinx', 'kog-maw'],
    threatLevel: 8,
    engageRating: 5,
    peelRating: 9,
    waveclearRating: 3,
    earlyGame: 5,
    midGame: 8,
    lateGame: 9,
  },
};

// Get counter picks for a champion
export function getCounterPicks(championId: string): string[] {
  const meta = CHAMPION_META[championId.toLowerCase()];
  return meta?.counteredBy || [];
}

// Get synergy picks for a champion
export function getSynergyPicks(championId: string): string[] {
  const meta = CHAMPION_META[championId.toLowerCase()];
  return meta?.synergies || [];
}

// Get champions that the given champion counters
export function getCountersFor(championId: string): string[] {
  const meta = CHAMPION_META[championId.toLowerCase()];
  return meta?.counters || [];
}

// Get high threat meta picks for a role
export function getMetaPicksForRole(role: Role): ChampionMeta[] {
  return Object.values(CHAMPION_META)
    .filter((c) => c.roles.includes(role) && c.threatLevel >= 7)
    .sort((a, b) => b.threatLevel - a.threatLevel);
}
